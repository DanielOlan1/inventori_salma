<!-- tab1.page.html -->
<ion-header mode="ios">
  <ion-toolbar>
    <ion-title>Inventary</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content mode="ios">
  <ion-item *ngIf="remainingTime > 0" mode="ios">
    <ion-label>Tiempo restante:</ion-label>
    <ion-text>{{ formatRemainingTime() }}</ion-text>
  </ion-item>
<ion-item mode="ios">
  <ion-label>¿Deseas agregar algo nuevo?</ion-label>
</ion-item>
<ion-item mode="ios" >
  <ion-item *ngIf="showAddOption" mode="ios">
    <ion-label>Nueva Opción</ion-label>
    <ion-input [(ngModel)]="newOption" name="newOption" required></ion-input>
  </ion-item>
  <ion-button expand="full" *ngIf="!showAddOption" (click)="toggleAddOption()" mode="ios">Agregar Nueva Opción</ion-button>

  <ion-button expand="full" *ngIf="showAddOption" (click)="agregarNuevaOpcion()" mode="ios">Confirmar Nueva Opción</ion-button></ion-item>
  <ion-item mode="ios">
    <ion-label>Equipo Completo</ion-label>
    <ion-select [(ngModel)]="productName" name="productName" required>
      <ion-select-option *ngFor="let option of productOptions" [value]="option">{{ option }}</ion-select-option>
    </ion-select>
  </ion-item>

  <ion-item>
    <ion-label>Cantidad</ion-label>
    <ion-select [(ngModel)]="quantity" name="quantity" required>
      <ion-select-option *ngFor="let option of quantityOptions" [value]="option">
        {{ option }}
      </ion-select-option>
    </ion-select>
  </ion-item>
  



  <ion-button expand="full" (click)="agregarProducto()">Agregar Producto</ion-button>

  
  <div>
    <div *ngFor="let item of inventoryData; let i = index">
      <ion-card mode="ios">
        <ion-item>
          <ion-label>Producto: {{ item.productName }}, Cantidad: {{ item.quantity }}</ion-label>
        </ion-item>
        <ion-item>
          <ion-button expand="block" (click)="eliminarProducto(i)">Eliminar</ion-button>
  
        </ion-item>
      </ion-card>
  
    </div>
    <ion-item mode="ios">
      <ion-button (click)="confirmarDescarga()" >Descargar Archivo</ion-button>
    </ion-item>
  </div>

  <ion-item *ngIf="downloadLink" mode="ios">
    <ion-label>Enlace de Descarga:</ion-label>
    <ion-text>{{ downloadLink }}</ion-text>
  </ion-item>
</ion-content>
